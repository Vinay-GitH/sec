$(document).ready(function(){$(".show-search").click(function(){$(".search-form").css("margin-top","0"),$(".search-input").focus()}),$(".close-search").click(function(){$(".search-form").css("margin-top","-60px")}),$(".toggle-fullscreen").click(function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}),Waves.displayEffect(),$('[data-toggle~="tooltip"]').tooltip({container:"body"}),Array.prototype.slice.call(document.querySelectorAll(".js-switch")).forEach(function(e){new Switchery(e,{color:"#23B7E5"})}),$(".panel-collapse").click(function(){$(this).closest(".panel").children(".panel-body").slideToggle("fast")}),$(".panel-reload").click(function(){var e=$(this).closest(".panel").children(".panel-body");$(e).block({message:'<img src="assets/images/reload.gif" width="20px" alt="">',css:{border:"none",padding:"0px",width:"20px",height:"20px",backgroundColor:"transparent"},overlayCSS:{backgroundColor:"#fff",opacity:.9,cursor:"wait"}}),window.setTimeout(function(){$(e).unblock()},1e3)}),$(".panel-remove").click(function(){$(this).closest(".panel").hide()}),$(".push-sidebar").click(function(){var e=$(".sidebar");e.hasClass("visible")?(e.removeClass("visible"),$(".page-inner").removeClass("sidebar-visible")):(e.addClass("visible"),$(".page-inner").addClass("sidebar-visible"))}),$(".sortable").sortable({connectWith:".sortable",items:".panel",helper:"original",revert:!0,placeholder:"panel-placeholder",forcePlaceholderSize:!0,opacity:.95,cursor:"move"}),$.fn.toggleAttr=function(e,a){var s=void 0===a;return this.each(function(){s&&!$(this).is("["+e+"]")||!s&&a?$(this).attr(e,e):$(this).removeAttr(e)})},$(".sidebar .accordion-menu li .sub-menu").slideUp(0),$(".sidebar .accordion-menu li.open .sub-menu").slideDown(0),$(".small-sidebar .sidebar .accordion-menu li.open .sub-menu").hide(0),$(".sidebar .accordion-menu > li.droplink > a").click(function(){if(!$("body").hasClass("small-sidebar")&&!$("body").hasClass("page-horizontal-bar")&&!$("body").hasClass("hover-menu")){var a=$(".sidebar .menu"),s=($(".page-sidebar-inner"),$(".page-content"),$(this).next());return $(this),a.find("li").removeClass("open"),$(".sub-menu").slideUp(200,function(){e()}),e(),s.is(":visible")?s.slideUp(200,function(){e()}):($(this).parent("li").addClass("open"),$(this).next(".sub-menu").slideDown(200,function(){e()})),!1}}),$(".sidebar .accordion-menu .sub-menu li.droplink > a").click(function(){var a=$(this).parent().parent(),s=($(".page-sidebar-inner"),$(".page-content"),$(this).next());return $(this),a.find("li").removeClass("open"),e(),s.is(":visible")?s.slideUp(200,function(){e()}):($(this).parent("li").addClass("open"),$(this).next(".sub-menu").slideDown(200,function(){e()})),!1});var e=function(){var e,a=$(".page-inner"),s=$(".page-sidebar"),i=$("body"),n=$(".page-footer").outerHeight();$(".page-content").height(),a.attr("style","min-height:"+s.height()+"px !important;"),i.hasClass("page-sidebar-fixed")?e=s.height()+n:(e=s.height()+n)<$(window).height()&&(e=$(window).height()-152),e>=a.height()&&a.attr("style","min-height:"+e+"px !important;height:"+($(window).height()-152)+"px !important;overflow-y:auto !important;")};e(),window.onresize=e,$(".slimscroll").slimscroll({allowPageScroll:!0});var a=document.querySelector(".fixed-header-check"),s=document.querySelector(".fixed-sidebar-check"),i=document.querySelector(".toggle-sidebar-check"),n=document.querySelector(".compact-menu-check"),o=$(".navbar .logo-box a span").text(),t=o.slice(0,1),l=function(){$("body").toggleClass("small-sidebar"),$(".navbar .logo-box a span").html($(".navbar .logo-box a span").text()==t?o:t),e()};if($(".page-sidebar-fixed .page-sidebar-inner").slimScroll(),$(".small-sidebar .navbar .logo-box a span").html($(".navbar .logo-box a span").text()==t?o:t),$(".theme-settings").length||$(".sidebar-toggle").click(function(){l()}),$(".theme-settings").length&&(a.onchange=function(){$("body").hasClass("page-horizontal-bar")&&$("body").hasClass("page-sidebar-fixed")&&$("body").hasClass("page-header-fixed")&&(s.click(),custom_alert_popup("Static header isn't compatible with fixed horizontal nav mode. Modern will set static mode on horizontal nav.")),$("body").toggleClass("page-header-fixed"),e()},s.onchange=function(){!$("body").hasClass("page-horizontal-bar")||$("body").hasClass("page-sidebar-fixed")||$("body").hasClass("page-header-fixed")||(a.click(),custom_alert_popup("Fixed horizontal nav isn't compatible with static header mode. Modern will set fixed mode on header.")),$("body").hasClass("hover-menu")&&!$("body").hasClass("page-sidebar-fixed")&&(hoverMenuCheck.click(),custom_alert_popup("Fixed sidebar isn't compatible with hover menu mode. Modern will set accordion mode on menu.")),$("body").toggleClass("page-sidebar-fixed"),$("body").hasClass(".page-sidebar-fixed")&&$(".page-sidebar-inner").slimScroll({destroy:!0}),$(".page-sidebar-inner").slimScroll(),e()},i.onchange=function(){l()},n.onchange=function(){$("body").toggleClass("compact-menu"),e()},$(".sidebar-toggle").click(function(){i.click()}),$(".reset-options").click(function(){$("body").hasClass("small-sidebar")&&1==i.checked&&i.click(),$("body").hasClass("page-header-fixed")||0!=a.checked||a.click(),$("body").hasClass("page-sidebar-fixed")&&1==s.checked&&s.click(),$("body").hasClass("compact-menu")||0!=n.checked||n.click(),$(".theme-color").attr("href","assets/css/themes/white.css"),e()}),$(".colorbox").click(function(){var e=$(this).attr("data-css");return $(".theme-color").attr("href","assets/css/themes/"+e+".css"),!1}),$("body").hasClass("page-sidebar-fixed")||1!=s.checked||$("body").addClass("page-sidebar-fixed"),$("body").hasClass("page-sidebar-fixed")&&0==s.checked&&$(".fixed-sidebar-check").prop("checked",!0),$("body").hasClass("page-header-fixed")||1!=a.checked||$("body").addClass("page-header-fixed"),$("body").hasClass("page-header-fixed")&&0==a.checked&&$(".fixed-header-check").prop("checked",!0),$("body").hasClass("small-sidebar")||1!=i.checked||$("body").addClass("small-sidebar"),$("body").hasClass("small-sidebar")&&0==i.checked&&$(".horizontal-bar-check").prop("checked",!0)),$(".chat").length){var c=document.getElementById("cbp-spmenu-s1"),r=document.getElementById("showRight"),d=document.getElementById("closeRight"),h=document.getElementById("cbp-spmenu-s2"),u=document.getElementById("closeRight2");document.body,r.onclick=function(){classie.toggle(c,"cbp-spmenu-open")},d.onclick=function(){classie.toggle(c,"cbp-spmenu-open")},u.onclick=function(){classie.toggle(h,"cbp-spmenu-open")},$(".showRight2").click(function(){classie.toggle(h,"cbp-spmenu-open")}),$(".chat-write form input").keypress(function(e){if(13==e.which&&0==!$(this).val().length)$('<div class="chat-item chat-item-right"><div class="chat-message">'+$(this).val()+"</div></div>").insertAfter(".chat .chat-item:last-child"),$(this).val("");else if(13==e.which)return;$(".chat").slimscroll({allowPageScroll:!0})})}});